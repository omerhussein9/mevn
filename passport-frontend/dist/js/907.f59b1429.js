"use strict";(self["webpackChunkpassport_frontend"]=self["webpackChunkpassport_frontend"]||[]).push([[907],{907:function(e,l,t){t.r(l),t.d(l,{default:function(){return B}});var a=t(6768),s=t(5130),n=t(4232);const i=(0,a.Lk)("div",{class:"section is-flex is-justify-content-left"},[(0,a.Lk)("h1",{class:"title"},"Create")],-1),o={class:"section",style:{"padding-top":"0px"}},c={class:"columns is-centered"},d={class:"column is-half"},u=(0,a.Lk)("header",{class:"card-header",style:{"background-color":"skyblue"}},[(0,a.Lk)("p",{class:"card-header-title"}," Create Event ")],-1),r=(0,a.Lk)("div",{class:"field",style:{"padding-top":"10px"}},[(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Location")]),(0,a.Lk)("div",{class:"control"},[(0,a.Lk)("input",{class:"input",id:"location",placeholder:""})])],-1),p=(0,a.Lk)("div",{class:"field"},[(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Date")]),(0,a.Lk)("div",{class:"control"},[(0,a.Lk)("input",{class:"input",id:"date",type:"date",placeholder:"Date"})])],-1),k=(0,a.Lk)("div",{class:"field"},[(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Time")]),(0,a.Lk)("div",{class:"control"},[(0,a.Lk)("input",{class:"input",id:"time",placeholder:""})])],-1),L=(0,a.Lk)("div",{class:"field"},[(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Address")]),(0,a.Lk)("div",{class:"control"},[(0,a.Lk)("input",{class:"input",id:"address",placeholder:""})])],-1),m={class:"control"},v=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Home Team")],-1),g={class:"select is-flex is-flex-direction-column"},x=["value"],y={class:"control"},f=(0,a.Lk)("div",{class:"text is-flex",style:{"padding-top":"10px"}},[(0,a.Lk)("strong",null,"Away Team")],-1),b={class:"select is-flex is-flex-direction-column"},h=["value"],w=(0,a.Lk)("div",{class:"field",style:{"padding-top":"10px"}},[(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Longitude")]),(0,a.Lk)("div",{class:"control"},[(0,a.Lk)("input",{class:"input",id:"longitude",placeholder:""})])],-1),C=(0,a.Lk)("div",{class:"field"},[(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Latitude")]),(0,a.Lk)("div",{class:"control"},[(0,a.Lk)("input",{class:"input",id:"latitude",placeholder:""})])],-1),T=(0,a.Lk)("button",{class:"button is-primary"},"Submit",-1),E={class:"column is-half"},S=(0,a.Lk)("header",{class:"card-header",style:{"background-color":"skyblue"}},[(0,a.Lk)("p",{class:"card-header-title"}," Create Team ")],-1),A=(0,a.Lk)("div",{class:"field",style:{"padding-top":"10px"}},[(0,a.Lk)("div",{class:"control"},[(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Name")]),(0,a.Lk)("input",{class:"input",id:"name",placeholder:""})])],-1),K={class:"control"},G={class:"radio"},X={class:"radio"},$={class:"content is-flex is-flex-direction-column"},q={class:"text is-flex",style:{padding:"0px"}},N={class:"control",style:{"padding-bottom":"10px"}},R={class:"text is-flex",style:{padding:"0px"}},_={class:"select is-flex is-flex-direction-column"},U=["value"],V=(0,a.Lk)("button",{class:"button is-primary"},"Submit",-1);function D(e,l,t,D,I,F){return(0,a.uX)(),(0,a.CE)("body",null,[i,((0,a.uX)(),(0,a.Wv)(a.tY,null,{default:(0,a.k6)((()=>[(0,a.Lk)("section",o,[(0,a.Lk)("div",c,[(0,a.Lk)("div",d,[(0,a.Lk)("form",{onSubmit:l[2]||(l[2]=(0,s.D$)(((...e)=>D.submitEvent&&D.submitEvent(...e)),["prevent"])),class:"box"},[u,r,p,k,L,(0,a.Lk)("div",m,[v,(0,a.Lk)("div",g,[(0,a.bo)((0,a.Lk)("select",{id:"team1","onUpdate:modelValue":l[0]||(l[0]=e=>D.selectedTeam1=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(D.teams,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e},(0,n.v_)(e.name),9,x)))),128))],512),[[s.u1,D.selectedTeam1]])])]),(0,a.Lk)("div",y,[f,(0,a.Lk)("div",b,[(0,a.bo)((0,a.Lk)("select",{id:"team1","onUpdate:modelValue":l[1]||(l[1]=e=>D.selectedTeam2=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(D.teams,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e},(0,n.v_)(e.name),9,h)))),128))],512),[[s.u1,D.selectedTeam2]])])]),w,C,T],32)]),(0,a.Lk)("div",E,[(0,a.Lk)("form",{onSubmit:l[7]||(l[7]=(0,s.D$)(((...e)=>D.submitTeam&&D.submitTeam(...e)),["prevent"])),class:"box"},[S,A,(0,a.Lk)("div",K,[(0,a.Lk)("label",G,[(0,a.Lk)("input",{type:"radio",name:"answer",onClick:l[3]||(l[3]=(...e)=>D.existingLeague&&D.existingLeague(...e))}),(0,a.eW)(" Use Existing League ")]),(0,a.Lk)("label",X,[(0,a.Lk)("input",{type:"radio",name:"answer",onClick:l[4]||(l[4]=(...e)=>D.newLeague&&D.newLeague(...e))}),(0,a.eW)(" Create New League ")])]),(0,a.bo)((0,a.Lk)("div",$,[(0,a.Lk)("div",q,[(0,a.bo)((0,a.Lk)("strong",null,"League",512),[[s.aG,D.nw]])]),(0,a.bo)((0,a.Lk)("input",{class:"input",type:"text",id:"sorter","onUpdate:modelValue":l[5]||(l[5]=e=>D.leagueName=e)},null,512),[[s.Jo,D.leagueName],[s.aG,D.nw]])],512),[[s.aG,D.nw]]),(0,a.bo)((0,a.Lk)("div",N,[(0,a.Lk)("div",R,[(0,a.bo)((0,a.Lk)("strong",null,"League",512),[[s.aG,!1===D.nw]])]),(0,a.bo)((0,a.Lk)("div",_,[(0,a.bo)((0,a.Lk)("select",{id:"league","onUpdate:modelValue":l[6]||(l[6]=e=>D.leagueName=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(D.leagues,(e=>(0,a.bo)(((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e.name},(0,n.v_)(e.name),9,U)),[[s.aG,!1===D.nw]]))),128))],512),[[s.u1,D.leagueName],[s.aG,!1===D.nw]])],512),[[s.aG,!1===D.nw]])],512),[[s.aG,!1===D.nw]]),V],32)])])])])),_:1}))])}t(4114);var I=t(8355),F=t(144),W=t(9221),j=t(3318);const H="http://localhost:3000";var J={setup(){const e=(0,F.KR)(null),l=(0,F.KR)(null),t=(0,F.KR)(null);let s=localStorage.getItem("token")||null;s=null===s?null:W.A.decodeToken(s),s&&"admin"===s.role||j.A.push({name:"home"}),(0,a.sV)((async()=>{try{const a=await I.A.get(`${H}/api/events`);e.value=a.data;const s=await I.A.get(`${H}/api/teams`);l.value=s.data;const n=await I.A.get(`${H}/api/leagues`);t.value=n.data}catch(a){console.error("error with fetching data:",a)}}));const n=(0,F.KR)(null),i=(0,F.KR)(null),o=()=>{let l=document.querySelector("#location").value,t=document.querySelector("#date").value,a=document.querySelector("#time").value,s=document.querySelector("#address").value,o=document.querySelector("#longitude").value,d=document.querySelector("#latitude").value;console.log(n.value,i.value);let u=0;e.value.forEach((e=>{u++,console.log(e.type)})),c(l,t,a,s,n.value.name,i.value.name,o,d,u)};async function c(e,l,t,a,s,n,i,o,c){try{console.log("creating team"),await I.A.post(`${H}/api/events`,{place:e,date:l,time:t,type:c,address:a,team1:s,team2:n,longitude:i,latitude:o,emails:[]}),alert("Event successfully created."),location.reload()}catch(d){console.error("error with creating event",d)}}const d=(0,F.KR)(null),u=async()=>{let e=document.querySelector("#name").value;try{await I.A.post(`${H}/api/teams`,{name:e,league:d.value}),r.value&&await I.A.post(`${H}/api/leagues`,{name:d.value}),alert("Team created successfully."),location.reload()}catch(l){console.error("error with creating team",l)}},r=(0,F.KR)(null),p=()=>r.value=!1,k=()=>r.value=!0;return{submitEvent:o,teams:l,leagues:t,selectedTeam1:n,selectedTeam2:i,submitTeam:u,existingLeague:p,newLeague:k,nw:r,leagueName:d}}},Y=t(1241);const z=(0,Y.A)(J,[["render",D]]);var B=z}}]);
//# sourceMappingURL=907.f59b1429.js.map