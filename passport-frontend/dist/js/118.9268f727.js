"use strict";(self["webpackChunkpassport_frontend"]=self["webpackChunkpassport_frontend"]||[]).push([[118],{3118:function(s,e,r){r.r(e),r.d(e,{default:function(){return b}});var i=r(6768),t=r(5130),a=r(4232);const o=s=>((0,i.Qi)("data-v-27234c52"),s=s(),(0,i.jt)(),s),l={class:"login-container card",style:{"margin-top":"10%"}},n=o((()=>(0,i.Lk)("header",{class:"card-header",style:{"background-color":"skyblue"}},[(0,i.Lk)("strong",{style:{padding:"10px"}},"Register")],-1))),d={class:"form-group",style:{"padding-top":"10px"}},u=o((()=>(0,i.Lk)("strong",{for:"email"},"Email",-1))),c={class:"form-group"},p=o((()=>(0,i.Lk)("strong",{for:"password"},"Password",-1))),g=o((()=>(0,i.Lk)("button",{type:"submit",class:"button is-primary"},"Create Account",-1))),m={key:0,class:"error-message"},f={key:1};function h(s,e,r,o,h,k){return(0,i.uX)(),(0,i.CE)("div",l,[n,(0,i.Lk)("form",{onSubmit:e[2]||(e[2]=(0,t.D$)(((...s)=>k.register&&k.register(...s)),["prevent"])),class:"is-flex is-flex-direction-column"},[(0,i.Lk)("div",d,[u,(0,i.bo)((0,i.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>h.email=s),required:""},null,512),[[t.Jo,h.email]])]),(0,i.Lk)("div",c,[p,(0,i.bo)((0,i.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>h.password=s),required:""},null,512),[[t.Jo,h.password]])]),g],32),h.loginError?((0,i.uX)(),(0,i.CE)("p",m,(0,a.v_)(h.loginError),1)):(0,i.Q3)("",!0),h.loginSuccessful?((0,i.uX)(),(0,i.CE)("p",f,(0,a.v_)(h.loginSuccessful),1)):(0,i.Q3)("",!0)])}var k=r(782),w={data(){return{email:"",password:"",loginError:null,loginSuccessful:null}},methods:{...(0,k.i0)(["registerUser"]),...(0,k.i0)(["loginUser"]),async register(){try{await this.$store.dispatch("registerUser",{email:this.email,password:this.password,role:"user"}),await this.$store.dispatch("loginUser",{email:this.email,password:this.password}),this.loginSuccessful="Registered account successfully and logged in as "+this.email+"."}catch(s){this.loginError="Failed to register, user already exists."}}}},y=r(1241);const v=(0,y.A)(w,[["render",h],["__scopeId","data-v-27234c52"]]);var b=v}}]);
//# sourceMappingURL=118.9268f727.js.map