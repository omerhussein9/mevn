{"version":3,"file":"js/about.738f00f4.js","mappings":"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","sources":["webpack://passport-frontend/./src/views/EventView.vue","webpack://passport-frontend/./src/views/EventView.vue?b6b4"],"sourcesContent":["<script>\r\nimport axios from 'axios';\r\nimport { ref, onMounted, computed } from 'vue';\r\nimport AuthService from '@/services/AuthService'\r\nimport router from '@/router'\r\n\r\nconst API_URL = 'http://localhost:3000'\r\n\r\nexport default {\r\n  setup() {\r\n    const events = ref(null)\r\n    let hasEvents = ref(false)\r\n\r\n    const leagues = ref(null)\r\n\r\n    const teams = ref(null)\r\n\r\n    let token = localStorage.getItem('token') || null\r\n    token = token === null ? null : AuthService.decodeToken(token)\r\n    \r\n    onMounted(async () => {\r\n      try {\r\n        const eventResp = await axios.get(`${API_URL}/api/events`)\r\n        events.value = eventResp.data\r\n\r\n        if(eventResp.data.length === 0)\r\n          hasEvents.value = true\r\n\r\n        const leagueResp = await axios.get(`${API_URL}/api/leagues`)\r\n        leagues.value = leagueResp.data\r\n\r\n        const teamResp = await axios.get(`${API_URL}/api/teams`)\r\n        teams.value = teamResp.data\r\n      } catch (e) {\r\n        console.error('error with getting the data, this is the error: ', e)\r\n      }\r\n    })\r\n\r\n    const selectedLeague = ref(null)\r\n    selectedLeague.value = \"---------\"\r\n\r\n    const selectedTeam = ref(null)\r\n    selectedTeam.value = \"---------\"\r\n\r\n    const searchPlace = ref(null)\r\n\r\n    const filteredEvents = computed(() => {\r\n      let filtered = ref(null), p = false\r\n      if (selectedLeague.value && selectedLeague.value !== \"---------\") {\r\n        filtered.value = filterByLeague(events)\r\n        p = true\r\n      }\r\n      if(selectedTeam.value && selectedTeam.value !== \"---------\") {\r\n        filtered.value = filterByTeam(p ? filtered : events)\r\n        p = true\r\n      }\r\n      if(searchPlace.value) {\r\n        filtered.value = filterByPlace(p ? filtered : events)\r\n        p = true\r\n      }\r\n\r\n      return p ? filtered.value : events.value\r\n    });\r\n\r\n    const filterByLeague = (ev) => {\r\n      return ev.value.filter(event => {\r\n          return teams.value.some(team => {\r\n            return team.league === selectedLeague.value.name && (team.name === event.team1 || team.name === event.team2);\r\n          });\r\n      });\r\n    }\r\n\r\n    const filterByTeam = (ev) => {\r\n      return ev.value.filter(event => {\r\n        return teams.value.some(team => {\r\n          return team.name === selectedTeam.value.name && (team.name === event.team1 || team.name === event.team2)\r\n        })\r\n      })\r\n    }\r\n\r\n    const filterByPlace = (ev) => {\r\n      return ev.value.filter(event => {\r\n        return event.place.toLowerCase().indexOf(searchPlace.value.toLowerCase()) > -1\r\n      })\r\n    }\r\n\r\n    let deleting = ref(false)\r\n\r\n    const deleteEvents = () => {\r\n      deleting.value = !deleting.value\r\n    }\r\n\r\n    const del = async (ev) => {\r\n      console.log('we are deleting the event that has teams', ev.team1, ev.team2)\r\n      try {\r\n        await axios.delete(`${API_URL}/api/events`, {\r\n          data: {\r\n            place: ev.place,\r\n            date: ev.date,\r\n            time: ev.time,\r\n            address: ev.address,\r\n            team1: ev.team1,\r\n            team2: ev.team2,\r\n            role: token.role\r\n          }\r\n        })\r\n\r\n        alert('Successfully deleted event.')\r\n\r\n        location.reload()\r\n      } catch(ex) {\r\n        console.error('error deleting events,', ex)\r\n      }\r\n    }\r\n\r\n    const sendToDetails = (ev) => {\r\n      if(!deleting.value) {\r\n        localStorage.setItem('event', ev.type)\r\n        router.push({ name: 'details' })\r\n      }\r\n    }\r\n\r\n    return {\r\n      events,\r\n      hasEvents,\r\n      leagues,\r\n      teams,\r\n      selectedLeague,\r\n      selectedTeam,\r\n      searchPlace,\r\n      filteredEvents,\r\n      filterByLeague,\r\n      filterByTeam,\r\n      filterByPlace,\r\n      token,\r\n      deleteEvents,\r\n      deleting,\r\n      del,\r\n      sendToDetails\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <body>\r\n    <div class=\"section is-flex is-justify-content-left\">\r\n      <h1 class=\"title\">Events</h1>\r\n    </div>\r\n\r\n    <Suspense>\r\n      <section style=\"padding-left: 25px; padding-right: 25px\">\r\n        <div class=\"card\">\r\n          <header class=\"card-header\" style=\"background-color: skyblue;\">\r\n            <p class=\"card-header-title\">\r\n              Filter by\r\n            </p>\r\n          </header>\r\n          <div class=\"card-content is-flex is-justify-content-left\">\r\n\r\n            <div class=\"content is-flex is-flex-direction-column\" style=\"padding: 5px\">\r\n              <div class=\"text is-flex\" style=\"padding:0px\">\r\n                <strong>League</strong>\r\n              </div>\r\n              <div class=\"select\" style=\"padding: 0px\">\r\n                <select v-model=\"selectedLeague\" id=\"sorter\">\r\n                  <option value=\"---------\">---------</option>\r\n                  <option v-for=\"league in leagues\" :key=\"league.id\" :value=\"league\">{{ league.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"content is-flex is-flex-direction-column\" style=\"padding: 5px\">\r\n              <div class=\"text is-flex\" style=\"padding:0px\">\r\n                <strong>Team</strong>\r\n              </div>\r\n              <div class=\"select\" style=\"padding: 0px\">\r\n                <select v-model=\"selectedTeam\" id=\"sorter\">\r\n                  <option value=\"---------\">---------</option>\r\n                  <option v-for=\"team in teams\" :key=\"team.id\" :value=\"team\">{{ team.name }}</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div class=\"content is-flex is-flex-direction-column\" style=\"padding: 5px\">\r\n              <div class=\"text is-flex\" style=\"padding:0px\">\r\n                <strong>Location</strong>\r\n              </div>\r\n                <input class=\"input\" type=\"text\" v-model=\"searchPlace\" id=\"sorter\">\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </Suspense>\r\n\r\n    <Suspense>  \r\n      <section style=\"padding-left: 20px; padding-right: 20px\">\r\n        <div class=\"columns is-multiline\" style=\"padding: 5px; padding-top: 10px\">\r\n          <div class=\"column is-half\" v-for=\"event in filteredEvents\" :key=\"event\">\r\n            <div class=\"card\" style=\"padding: 5px\">\r\n              <a @click=\"sendToDetails(event)\" style=\"color: black\">\r\n                <div class=\"card-content\">\r\n                  <header class=\"card-header custom-header is-flex is-align-items-center\">\r\n                    <p class=\"card-header-title\" style=\"color: black; padding-top: 5px\">\r\n                      {{ event.team1 }} and {{ event.team2 }}\r\n                    </p>\r\n                    <div class=\"delete\" v-show=\"deleting\" @click=\"del(event)\"></div>\r\n                  </header>\r\n                  \r\n                  <div class=\"content\">\r\n                    {{ event.place }}, {{ event.address }}\r\n                  </div>\r\n                  <div class=\"content\">\r\n                    {{ event.date }} at {{ event.time }}\r\n                  </div>\r\n                </div>\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"button is-danger\" v-if=\"token !== null && token.role === 'admin'\" style=\"padding-bottom: 10px;\" @click=\"deleteEvents\">\r\n          Delete Events (Admin Only)\r\n        </div>\r\n      </section>\r\n    </Suspense>\r\n  </body>\r\n</template>\r\n\r\n<style>\r\n.custom-header {\r\n  background-color: skyblue;\r\n  border-radius: 6px 6px 0 0; /* Rounded corners only at the top */\r\n}\r\n</style>\r\n","import { render } from \"./EventView.vue?vue&type=template&id=2cf4e29a\"\nimport script from \"./EventView.vue?vue&type=script&lang=js\"\nexport * from \"./EventView.vue?vue&type=script&lang=js\"\n\nimport \"./EventView.vue?vue&type=style&index=0&id=2cf4e29a&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","value","_createElementBlock","_hoisted_1","_createBlock","_Suspense","default","_withCtx","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_cache","$event","$setup","selectedLeague","id","_hoisted_9","_Fragment","_renderList","leagues","league","key","name","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","selectedTeam","_hoisted_14","teams","team","_hoisted_15","_hoisted_16","_hoisted_17","type","searchPlace","_","_hoisted_18","_hoisted_19","filteredEvents","event","_hoisted_20","onClick","sendToDetails","_hoisted_22","_hoisted_23","_hoisted_24","_toDisplayString","team1","team2","del","_hoisted_25","deleting","_hoisted_26","place","address","_hoisted_27","date","time","_hoisted_21","token","role","args","deleteEvents","_createCommentVNode","API_URL","setup","events","ref","hasEvents","localStorage","getItem","AuthService","decodeToken","onMounted","async","eventResp","axios","get","data","length","leagueResp","teamResp","e","console","error","computed","filtered","p","filterByLeague","filterByTeam","filterByPlace","ev","filter","some","toLowerCase","indexOf","log","delete","alert","location","reload","ex","setItem","router","push","__exports__","render"],"sourceRoot":""}