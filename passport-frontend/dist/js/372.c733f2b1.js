"use strict";(self["webpackChunkpassport_frontend"]=self["webpackChunkpassport_frontend"]||[]).push([[372],{372:function(e,a,l){l.r(a),l.d(a,{default:function(){return K}});var t=l(6768),s=l(5130),n=l(4232);const u=(0,t.Lk)("div",{class:"section is-flex is-justify-content-left"},[(0,t.Lk)("h1",{class:"title"},"Delete")],-1),o={class:"section"},d={class:"columns"},c={class:"column"},r=(0,t.Lk)("header",{class:"card-header",style:{"background-color":"skyblue"}},[(0,t.Lk)("p",{class:"card-header-title"}," Delete Team ")],-1),i={class:"control"},m=(0,t.Lk)("div",{class:"text is-flex",style:{"padding-top":"10px"}},[(0,t.Lk)("strong",null,"Team")],-1),g={class:"select is-flex is-flex-direction-column"},v=["value"],p=(0,t.Lk)("div",{style:{"padding-top":"10px"}},null,-1),L=(0,t.Lk)("button",{class:"button is-danger"},"Delete",-1),k={class:"column"},h=(0,t.Lk)("header",{class:"card-header",style:{"background-color":"skyblue"}},[(0,t.Lk)("p",{class:"card-header-title"}," Delete League ")],-1),f={class:"control"},y=(0,t.Lk)("div",{class:"text is-flex",style:{"padding-top":"10px"}},[(0,t.Lk)("strong",null,"League")],-1),b={class:"select is-flex is-flex-direction-column"},E=["value"],x=(0,t.Lk)("div",{style:{"padding-top":"10px"}},null,-1),S=(0,t.Lk)("button",{class:"button is-danger"},"Delete",-1);function A(e,a,l,A,T,w){return(0,t.uX)(),(0,t.CE)("body",null,[u,((0,t.uX)(),(0,t.Wv)(t.tY,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",o,[(0,t.Lk)("div",d,[(0,t.Lk)("div",c,[(0,t.Lk)("form",{class:"box",onSubmit:a[1]||(a[1]=(0,s.D$)(((...e)=>A.deleteTeam&&A.deleteTeam(...e)),["prevent"]))},[r,(0,t.Lk)("div",i,[m,(0,t.Lk)("div",g,[(0,t.bo)((0,t.Lk)("select",{id:"team","onUpdate:modelValue":a[0]||(a[0]=e=>A.selectedTeam=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(A.teams,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e},(0,n.v_)(e.name),9,v)))),128))],512),[[s.u1,A.selectedTeam]])])]),p,L],32)]),(0,t.Lk)("div",k,[(0,t.Lk)("form",{class:"box",onSubmit:a[3]||(a[3]=(0,s.D$)(((...e)=>A.deleteLeague&&A.deleteLeague(...e)),["prevent"]))},[h,(0,t.Lk)("div",f,[y,(0,t.Lk)("div",b,[(0,t.bo)((0,t.Lk)("select",{id:"league","onUpdate:modelValue":a[2]||(a[2]=e=>A.selectedLeague=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(A.leagues,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e},(0,n.v_)(e.name),9,E)))),128))],512),[[s.u1,A.selectedLeague]])])]),x,S],32)])])])])),_:1}))])}l(4114);var T=l(8355),w=l(144),R=l(9221),$=l(3318);const C="http://localhost:3000";var O={setup(){const e=(0,w.KR)(null),a=(0,w.KR)(null);let l=localStorage.getItem("token")||null;l=null===l?null:R.A.decodeToken(l),l&&"admin"===l.role||$.A.push({name:"home"}),(0,t.sV)((async()=>{try{const l=await T.A.get(`${C}/api/teams`);e.value=l.data;const t=await T.A.get(`${C}/api/leagues`);a.value=t.data}catch(l){console.error("error with fetching data: "+l)}}));const s=(0,w.KR)(null),n=async({team:e})=>{const a=(0,w.KR)(null);a.value=e||s.value,console.log("deleting team with name and league:",a.value.name,a.value.league);try{await T.A.delete(`${C}/api/teams`,{data:{name:a.value.name,league:a.value.league?a.value.league:"NO LEAGUES HERE SORRY GUYS GGS MAN THIS PROJECT IS SO GOOD HOPEFULLY NO ONE CALLS THEIR LEAGUE THIS"}}),await T.A.delete(`${C}/api/events`,{data:{team1:a.value.name}}),await T.A.delete(`${C}/api/events`,{data:{team2:a.value.name}}),alert(`Successfully deleted team ${a.value.name}.`)}catch(l){console.error("error deleting team",l)}},u=(0,w.KR)(null),o=async()=>{const a=[];console.log("deleting league with name:",u.value.name);try{e.value.forEach((e=>{e.league===u.value.name&&(a.push(e),console.log("added to array"))}));while(a.length>0)n({team:a[a.length-1]}),a.pop(),console.log("deleted from array");await T.A.delete(`${C}/api/leagues`,{data:{name:u.value.name}}),alert(`Successfully deleted league ${u.value.name}.`)}catch(l){console.error("error deleting league",l)}};return{teams:e,leagues:a,selectedTeam:s,deleteTeam:n,selectedLeague:u,deleteLeague:o}}},D=l(1241);const I=(0,D.A)(O,[["render",A]]);var K=I}}]);
//# sourceMappingURL=372.c733f2b1.js.map