"use strict";(self["webpackChunkpassport_frontend"]=self["webpackChunkpassport_frontend"]||[]).push([[71],{1071:function(e,l,t){t.r(l),t.d(l,{default:function(){return Z}});var a=t(6768),s=t(4232),d=t(5130);const n=(0,a.Lk)("div",{class:"section is-flex is-justify-content-left"},[(0,a.Lk)("h1",{class:"title"},"Details")],-1),i=["value"],o={key:0,class:"card"},u={class:"card-header",style:{"background-color":"skyblue"}},c={class:"card-header-title"},p=["disabled"],v={class:"field section",style:{"padding-bottom":"0px"}},r=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Location")],-1),m={class:"control"},k={class:"field section",style:{"padding-bottom":"0px"}},L=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Date")],-1),g={class:"control"},y={class:"field section",style:{"padding-bottom":"0px"}},f=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Time")],-1),x={class:"control"},b={class:"field section",style:{"padding-bottom":"0px"}},h=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Address")],-1),w={class:"control"},K=["src"],C={class:"field section",style:{"padding-bottom":"0px"}},A=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Home Team")],-1),E={class:"select is-flex is-flex-direction-column"},R=["value"],U={class:"field section",style:{"padding-bottom":"0px"}},T=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Away Team")],-1),V={class:"select is-flex is-flex-direction-column"},X=["value"],I={class:"field section",style:{"padding-bottom":"0px"}},J=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Longitude")],-1),$={class:"control"},_={class:"field section",style:{"padding-bottom":"0px"}},W=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Latitude")],-1),j={class:"control"},S=["disabled"],F=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Notify Me")],-1),P=(0,a.Lk)("label",{class:"radio"},[(0,a.Lk)("input",{type:"radio",name:"yesno"}),(0,a.eW)(" Yes ")],-1),Y=(0,a.Lk)("label",{class:"radio"},[(0,a.Lk)("input",{type:"radio",name:"yesno"}),(0,a.eW)(" No ")],-1),D=[P,Y];function z(e,l,t,P,Y,z){return(0,a.uX)(),(0,a.CE)(a.FK,null,[n,((0,a.uX)(),(0,a.Wv)(a.tY,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(P.events,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"section",key:e,value:e,style:{"padding-top":"0px"}},[0===e.type?((0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("header",u,[(0,a.Lk)("p",c,(0,s.v_)(P.ev.team1)+" and "+(0,s.v_)(P.ev.team2),1)]),(0,a.Lk)("fieldset",{disabled:!P.token||"admin"!==P.token.role},[(0,a.Lk)("div",v,[r,(0,a.Lk)("div",m,[(0,a.bo)((0,a.Lk)("input",{class:"input",id:"location","onUpdate:modelValue":l[0]||(l[0]=e=>P.place=e)},null,512),[[d.Jo,P.place]])])]),(0,a.Lk)("div",k,[L,(0,a.Lk)("div",g,[(0,a.bo)((0,a.Lk)("input",{class:"input",id:"date",type:"date","onUpdate:modelValue":l[1]||(l[1]=e=>P.date=e)},null,512),[[d.Jo,P.date]])])]),(0,a.Lk)("div",y,[f,(0,a.Lk)("div",x,[(0,a.bo)((0,a.Lk)("input",{class:"input",id:"time","onUpdate:modelValue":l[2]||(l[2]=e=>P.time=e)},null,512),[[d.Jo,P.time]])])]),(0,a.Lk)("div",b,[h,(0,a.Lk)("div",w,[(0,a.bo)((0,a.Lk)("input",{class:"input",id:"address","onUpdate:modelValue":l[3]||(l[3]=e=>P.address=e)},null,512),[[d.Jo,P.address]])])]),(0,a.Lk)("iframe",{width:"100%",height:"400",style:{border:"0"},referrerpolicy:"no-referrer-when-downgrade",src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyC1J8rbjY3B-Y-dzoWU7jl6hAW4jAh-yRk&q=${encodeURIComponent(P.ev.longitude+" "+P.ev.latitude)}`,allowfullscreen:""},null,8,K),(0,a.Lk)("div",C,[A,(0,a.Lk)("div",E,[(0,a.bo)((0,a.Lk)("select",{id:"team1","onUpdate:modelValue":l[4]||(l[4]=e=>P.selectedTeam1=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(P.teams,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e},(0,s.v_)(e.name),9,R)))),128))],512),[[d.u1,P.selectedTeam1]])])]),(0,a.Lk)("div",U,[T,(0,a.Lk)("div",V,[(0,a.bo)((0,a.Lk)("select",{id:"team1","onUpdate:modelValue":l[5]||(l[5]=e=>P.selectedTeam2=e)},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(P.teams,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e},(0,s.v_)(e.name),9,X)))),128))],512),[[d.u1,P.selectedTeam2]])])]),(0,a.Lk)("div",I,[J,(0,a.Lk)("div",$,[(0,a.bo)((0,a.Lk)("input",{class:"input",id:"address","onUpdate:modelValue":l[6]||(l[6]=e=>P.longitude=e)},null,512),[[d.Jo,P.longitude]])])]),(0,a.Lk)("div",_,[W,(0,a.Lk)("div",j,[(0,a.bo)((0,a.Lk)("input",{class:"input",id:"address","onUpdate:modelValue":l[7]||(l[7]=e=>P.latitude=e)},null,512),[[d.Jo,P.latitude]])])]),(0,a.Lk)("button",{onClick:l[8]||(l[8]=(...e)=>P.editEvent&&P.editEvent(...e)),class:"button is-primary"},"Submit")],8,p),(0,a.Lk)("fieldset",{class:"field section",disabled:!P.token,style:{"padding-bottom":"0px","margin-bottom":"10px"}},[F,(0,a.Lk)("div",{class:"control",onClick:l[9]||(l[9]=(...e)=>P.changePreference&&P.changePreference(...e))},D)],8,S)])):(0,a.Q3)("",!0)],8,i)))),128))])),_:1}))],64)}t(4114);var N=t(8355),q=t(144),B=t(782),H=t(9221);const M="http://localhost:3000";var Q={setup(){const e=(0,q.KR)(null),l=(0,q.KR)(null);let t=!1;const s=(0,q.KR)(null),d=(0,q.KR)(null),n=(0,q.KR)(null),i=(0,q.KR)(null),o=(0,q.KR)(null),u=(0,q.KR)(null),c=(0,q.KR)(null),p=(0,q.KR)(null),v=(0,q.KR)(null);let r=localStorage.getItem("token")||null;r=null===r?null:H.A.decodeToken(r),(0,a.sV)((async()=>{const a=await N.A.get(`${M}/api/events`);e.value=a.data;let r=localStorage.getItem("event");e.value.forEach((e=>{e.type+""===r&&(l.value=e,i.value=l.value.place,u.value=l.value.date,c.value=l.value.address,p.value=l.value.longitude,v.value=l.value.latitude,o.value=l.value.time)}));const m=await N.A.get(`${M}/api/teams`);s.value=m.data,d.value=s.value.find((e=>e.name===l.value.team1)),n.value=s.value.find((e=>e.name===l.value.team2)),t=!0}));const m=async()=>{try{await N.A.delete(`${M}/api/events`,{data:{id:l.value.type}}),await N.A.post(`${M}/api/events`,{place:i.value,date:u.value,time:o.value,address:c.value,team1:d.value.name,team2:n.value.name,longitude:p.value,latitude:v.value,type:l.value.type,emails:l.value.emails}),alert("Successfully edited the event."),location.reload()}catch(e){console.error("error with patching event",e)}},k=(0,B.Pj)(),L=(0,a.EW)((()=>k.getters.currentUser)),g=async()=>{try{await N.A.delete(`${M}/api/events`,{data:{id:l.value.type}});let e=l.value.emails;e.push(L.value.email),console.log(e),await N.A.post(`${M}/api/events`,{place:l.value.place,date:l.value.date,time:l.value.time,address:l.value.address,team1:l.value.team1,team2:l.value.team2,longitude:l.value.longitude,latitude:l.value.latitude,type:l.value.type,emails:e})}catch(e){console.error(e)}};return{events:e,ev:l,gotData:t,teams:s,selectedTeam1:d,selectedTeam2:n,token:r,editEvent:m,place:i,date:u,address:c,longitude:p,latitude:v,time:o,changePreference:g}}},G=t(1241);const O=(0,G.A)(Q,[["render",z]]);var Z=O}}]);
//# sourceMappingURL=71.b3205835.js.map