"use strict";(self["webpackChunkpassport_frontend"]=self["webpackChunkpassport_frontend"]||[]).push([[594],{1091:function(e,t,l){l.r(t),l.d(t,{default:function(){return j}});var a=l(6768),s=l(4232),n=l(5130);const d=(0,a.Lk)("div",{class:"section is-flex is-justify-content-left"},[(0,a.Lk)("h1",{class:"title"},"Events")],-1),i={style:{"padding-left":"25px","padding-right":"25px"}},o={class:"card"},c=(0,a.Lk)("header",{class:"card-header",style:{"background-color":"skyblue"}},[(0,a.Lk)("p",{class:"card-header-title"}," Filter by ")],-1),u={class:"card-content is-flex is-justify-content-left"},r={class:"content is-flex is-flex-direction-column",style:{padding:"5px"}},v=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"League")],-1),p={class:"select",style:{padding:"0px"}},k=(0,a.Lk)("option",{value:"---------"},"---------",-1),m=["value"],g={class:"content is-flex is-flex-direction-column",style:{padding:"5px"}},L=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Team")],-1),f={class:"select",style:{padding:"0px"}},y=(0,a.Lk)("option",{value:"---------"},"---------",-1),x=["value"],h={class:"content is-flex is-flex-direction-column",style:{padding:"5px"}},C=(0,a.Lk)("div",{class:"text is-flex",style:{padding:"0px"}},[(0,a.Lk)("strong",null,"Location")],-1),E={style:{"padding-left":"20px","padding-right":"20px"}},b={class:"columns is-multiline",style:{padding:"5px","padding-top":"10px"}},K={class:"card",style:{padding:"5px"}},_=["onClick"],w={class:"card-content"},X={class:"card-header custom-header is-flex is-align-items-center"},R={class:"card-header-title",style:{color:"black","padding-top":"5px"}},A=["onClick"],T={class:"content"},I={class:"content"};function F(e,t,l,F,P,V){return(0,a.uX)(),(0,a.CE)("body",null,[d,((0,a.uX)(),(0,a.Wv)(a.tY,null,{default:(0,a.k6)((()=>[(0,a.Lk)("section",i,[(0,a.Lk)("div",o,[c,(0,a.Lk)("div",u,[(0,a.Lk)("div",r,[v,(0,a.Lk)("div",p,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>F.selectedLeague=e),id:"sorter"},[k,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(F.leagues,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e},(0,s.v_)(e.name),9,m)))),128))],512),[[n.u1,F.selectedLeague]])])]),(0,a.Lk)("div",g,[L,(0,a.Lk)("div",f,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>F.selectedTeam=e),id:"sorter"},[y,((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(F.teams,(e=>((0,a.uX)(),(0,a.CE)("option",{key:e.id,value:e},(0,s.v_)(e.name),9,x)))),128))],512),[[n.u1,F.selectedTeam]])])]),(0,a.Lk)("div",h,[C,(0,a.bo)((0,a.Lk)("input",{class:"input",type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>F.searchPlace=e),id:"sorter"},null,512),[[n.Jo,F.searchPlace]])])])])])])),_:1})),((0,a.uX)(),(0,a.Wv)(a.tY,null,{default:(0,a.k6)((()=>[(0,a.Lk)("section",E,[(0,a.Lk)("div",b,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(F.filteredEvents,(e=>((0,a.uX)(),(0,a.CE)("div",{class:"column is-half",key:e},[(0,a.Lk)("div",K,[(0,a.Lk)("a",{onClick:t=>F.sendToDetails(e),style:{color:"black"}},[(0,a.Lk)("div",w,[(0,a.Lk)("header",X,[(0,a.Lk)("p",R,(0,s.v_)(e.team1)+" and "+(0,s.v_)(e.team2),1),(0,a.bo)((0,a.Lk)("div",{class:"delete",onClick:t=>F.del(e)},null,8,A),[[n.aG,F.deleting]])]),(0,a.Lk)("div",T,(0,s.v_)(e.place)+", "+(0,s.v_)(e.address),1),(0,a.Lk)("div",I,(0,s.v_)(e.date)+" at "+(0,s.v_)(e.time),1)])],8,_)])])))),128))]),null!==F.token&&"admin"===F.token.role?((0,a.uX)(),(0,a.CE)("div",{key:0,class:"button is-danger",style:{"padding-bottom":"10px"},onClick:t[3]||(t[3]=(...e)=>F.deleteEvents&&F.deleteEvents(...e))}," Delete Events (Admin Only) ")):(0,a.Q3)("",!0)])])),_:1}))])}l(4114);var P=l(8355),V=l(144),$=l(9221),B=l(3318);const D="http://localhost:3000";var S={setup(){const e=(0,V.KR)(null);let t=(0,V.KR)(!1);const l=(0,V.KR)(null),s=(0,V.KR)(null);let n=localStorage.getItem("token")||null;n=null===n?null:$.A.decodeToken(n),(0,a.sV)((async()=>{try{const a=await P.A.get(`${D}/api/events`);e.value=a.data,0===a.data.length&&(t.value=!0);const n=await P.A.get(`${D}/api/leagues`);l.value=n.data;const d=await P.A.get(`${D}/api/teams`);s.value=d.data}catch(a){console.error("error with getting the data, this is the error: ",a)}}));const d=(0,V.KR)(null);d.value="---------";const i=(0,V.KR)(null);i.value="---------";const o=(0,V.KR)(null),c=(0,a.EW)((()=>{let t=(0,V.KR)(null),l=!1;return d.value&&"---------"!==d.value&&(t.value=u(e),l=!0),i.value&&"---------"!==i.value&&(t.value=r(l?t:e),l=!0),o.value&&(t.value=v(l?t:e),l=!0),l?t.value:e.value})),u=e=>e.value.filter((e=>s.value.some((t=>t.league===d.value.name&&(t.name===e.team1||t.name===e.team2))))),r=e=>e.value.filter((e=>s.value.some((t=>t.name===i.value.name&&(t.name===e.team1||t.name===e.team2))))),v=e=>e.value.filter((e=>e.place.toLowerCase().indexOf(o.value.toLowerCase())>-1));let p=(0,V.KR)(!1);const k=()=>{p.value=!p.value},m=async e=>{console.log("we are deleting the event that has teams",e.team1,e.team2);try{await P.A.delete(`${D}/api/events`,{data:{place:e.place,date:e.date,time:e.time,address:e.address,team1:e.team1,team2:e.team2,role:n.role}}),alert("Successfully deleted event."),location.reload()}catch(t){console.error("error deleting events,",t)}},g=e=>{p.value||(localStorage.setItem("event",e.type),B.A.push({name:"details"}))};return{events:e,hasEvents:t,leagues:l,teams:s,selectedLeague:d,selectedTeam:i,searchPlace:o,filteredEvents:c,filterByLeague:u,filterByTeam:r,filterByPlace:v,token:n,deleteEvents:k,deleting:p,del:m,sendToDetails:g}}},U=l(1241);const W=(0,U.A)(S,[["render",F]]);var j=W}}]);
//# sourceMappingURL=about.738f00f4.js.map